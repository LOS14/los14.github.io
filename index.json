[{"content":"Ubuntuåˆ†è¾¨ç‡ä¿®æ”¹ é—®é¢˜ é‡è£…ubuntu18.04åï¼Œå®‰è£…todeskè¿œç¨‹è¿‡å»çš„æ—¶å€™æç¤ºæ— æ³•è¿æ¥ã€‚\nè§£å†³æ–¹æ³• $ sudo apt update $ sudo apt full-upgrade $ sudo apt upgrade $ sudo apt dist-upgrade ä¸»è¦æ˜¯æ›´æ–°kernel Linux ZH-Server 5.4.0-131-generic #147~18.04.1-Ubuntu SMP Sat Oct 15 13:10:18 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux æ›´æ–°/etc/profile xrandrè·å–displayçš„åç§° Screen 0: minimum 320 x 200, current 1920 x 1080, maximum 1920 x 2048 VGA-1 connected primary 1920x1080+0+0 (normal left inverted right x axis y axis) 0mm x 0mm 1024x768 60.00 800x600 60.32 56.25 640x480 59.94 1920x1080_60.00 59.96* ç„¶ååœ¨/etc/profileæœ€åæ·»åŠ ä»¥ä¸‹ä¸¤å¥ xrandr --newmode \u0026#34;1920x1080_60.00\u0026#34; 173.00 1920 2048 2248 2576 1080 1083 1088 1120 -hsync +vsync xrandr --addmode VGA-1 \u0026#34;1920x1080_60.00\u0026#34; ","permalink":"https://blog.trustyapp.com/posts/server/server_display/","summary":"Ubuntuåˆ†è¾¨ç‡ä¿®æ”¹ é—®é¢˜ é‡è£…ubuntu18.04åï¼Œå®‰è£…todeskè¿œç¨‹è¿‡å»çš„æ—¶å€™æç¤ºæ— æ³•è¿æ¥ã€‚ è§£å†³æ–¹æ³• $ sudo apt update $ sudo apt full-upgrade $ sudo apt upgrade $ sudo apt dist-upgrade ä¸»è¦æ˜¯æ›´æ–°kernel Linux ZH-Server 5.4.0-131-generic #147~18.04.1-Ubuntu SMP Sat Oct 15 13:10:18 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux æ›´æ–°/etc/profile xrandrè·å–displayçš„åç§° Screen 0: minimum 320 x 200, current 1920 x 1080, maximum 1920","title":"Ubuntuåˆ†è¾¨ç‡ä¿®æ”¹"},{"content":"NASä¸Šæ­å»ºOpengrokä»£ç æœç´¢å¼•æ“ ä¸€. åŠŸèƒ½èƒŒæ™¯ ä½¿ç”¨opengrokæ­å»ºå¤šé¡¹ç›®æœç´¢ opengrok-1.1-rc34 ubuntu18.04 + tomcat8 + ctags + openjdk-8 äºŒ. è‡ªåŠ¨åˆ›å»ºã€åŒæ­¥è„šæœ¬ #!/bin/bash LOCAL_PATH=`pwd` WEB_APP=\u0026#34;/var/lib/tomcat8/webapps\u0026#34; createPrj(){ export OPENGROK_GENERATE_HISTORY=0 export OPENGROK_INSTANCE_BASE=$LOCAL_PATH/index/$1 export OPENGROK_WEBAPP_NAME=$1 export OPENGROK_WEBAPP_CONTEXT=$1 export OPENGROK_WEBAPP_CFGADDR=http://localhost:8080/$1 ./bin/OpenGrok deploy } indexPrj(){ ./bin/OpenGrok index $LOCAL_PATH/database/$1 } rootHtml(){ projects=\u0026#34;\u0026#34; indexInfo=\u0026#34;\u0026#34; html=$(cat \u0026#34;./ROOT/index.html\u0026#34;) for dir in `ls $WEB_APP`;do if [[ -d \u0026#34;$WEB_APP/$dir\u0026#34; ]] \u0026amp;\u0026amp; [[ \u0026#34;ROOT\u0026#34; != $dir ]]; then projects=\u0026#34;\u0026lt;li\u0026gt;\u0026lt;a href=\\\u0026#34;/$dir/\\\u0026#34;\u0026gt;$dir\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\\n\u0026#34;\u0026#34;$projects\u0026#34; indexLog=\u0026#34;./index/$dir/log/opengrok0.0.log\u0026#34; lastIndex=`stat --format=%y $indexLog` lastIndex=${lastIndex%.*} indexInfo=\u0026#34;\u0026lt;li\u0026gt;\u0026lt;b\u0026gt;$lastIndex\u0026lt;/b\u0026gt; - New Index: \u0026lt;a href=\\\u0026#34;/$dir/\\\u0026#34;\u0026gt;$dir\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\\n\u0026#34;\u0026#34;$indexInfo\u0026#34; fi done html=${html//projects/$projects} html=${html//project_index/$indexInfo} rm -rf $WEB_APP/ROOT mkdir -p $WEB_APP/ROOT echo -e \u0026#34;$html\u0026#34; \u0026gt;$WEB_APP/ROOT/index.html cp ./ROOT/style.css $WEB_APP/ROOT/style.css rm -rf $WEB_APP/*.war } main(){ for dir in `ls database`;do rm -rf $database/$dir/{prebuilts,developers,development} if [[ $1 == \u0026#34;create\u0026#34; ]];then createPrj $dir fi indexPrj $dir done rootHtml /etc/init.d/tomcat8 restart } main $* ä¸‰. åè®° æœ¬åŠŸèƒ½åœ¨äºopengrokçš„ç‰ˆæœ¬é€‰æ‹©ï¼Œopengrok-1.1-rc34ç‰ˆæœ¬æ­£å¥½ç®€å•å®‰è£…åœ¨ubuntu18.04ä¸Šï¼Œä¸è¿½æ±‚æœ€æ–°ç‰ˆï¼Œåªæ±‚æœ€ç¨³å®š\n","permalink":"https://blog.trustyapp.com/posts/server/nas_opengrok/","summary":"NASä¸Šæ­å»ºOpengrokä»£ç æœç´¢å¼•æ“ ä¸€. åŠŸèƒ½èƒŒæ™¯ ä½¿ç”¨opengrokæ­å»ºå¤šé¡¹ç›®æœç´¢ opengrok-1.1-rc34 ubuntu18.04 + tomcat8 + ctags + openjdk-8 äºŒ. è‡ªåŠ¨åˆ›å»ºã€åŒæ­¥è„šæœ¬ #!/bin/bash LOCAL_PATH=`pwd` WEB_APP=\u0026#34;/var/lib/tomcat8/webapps\u0026#34; createPrj(){ export OPENGROK_GENERATE_HISTORY=0 export OPENGROK_INSTANCE_BASE=$LOCAL_PATH/index/$1 export OPENGROK_WEBAPP_NAME=$1 export OPENGROK_WEBAPP_CONTEXT=$1 export OPENGROK_WEBAPP_CFGADDR=http://localhost:8080/$1 ./bin/OpenGrok deploy } indexPrj(){ ./bin/OpenGrok index $LOCAL_PATH/database/$1 } rootHtml(){ projects=\u0026#34;\u0026#34; indexInfo=\u0026#34;\u0026#34; html=$(cat \u0026#34;./ROOT/index.html\u0026#34;) for dir in `ls $WEB_APP`;do if [[ -d \u0026#34;$WEB_APP/$dir\u0026#34; ]] \u0026amp;\u0026amp; [[ \u0026#34;ROOT\u0026#34; != $dir ]]; then projects=\u0026#34;\u0026lt;li\u0026gt;\u0026lt;a href=\\\u0026#34;/$dir/\\\u0026#34;\u0026gt;$dir\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\\n\u0026#34;\u0026#34;$projects\u0026#34; indexLog=\u0026#34;./index/$dir/log/opengrok0.0.log\u0026#34; lastIndex=`stat --format=%y $indexLog` lastIndex=${lastIndex%.*} indexInfo=\u0026#34;\u0026lt;li\u0026gt;\u0026lt;b\u0026gt;$lastIndex\u0026lt;/b\u0026gt; - New Index: \u0026lt;a href=\\\u0026#34;/$dir/\\\u0026#34;\u0026gt;$dir\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\\n\u0026#34;\u0026#34;$indexInfo\u0026#34; fi done html=${html//projects/$projects} html=${html//project_index/$indexInfo} rm -rf $WEB_APP/ROOT mkdir -p $WEB_APP/ROOT echo -e \u0026#34;$html\u0026#34; \u0026gt;$WEB_APP/ROOT/index.html cp ./ROOT/style.css $WEB_APP/ROOT/style.css rm -rf $WEB_APP/*.war }","title":"NASä¸Šæ­å»ºOpengrokä»£ç æœç´¢å¼•æ“"},{"content":"Githubæ‰¹é‡åˆ›å»ºé¡¹ç›® 1. åŠŸèƒ½èƒŒæ™¯ AOSPçš„ä»£ç æ˜¯ä½¿ç”¨repoç®¡ç†çš„ï¼Œéœ€è¦ä¸Šä¼ è‡³githubä¸Šçš„æ—¶å€™éœ€è¦æ‰¹é‡åˆ›å»ºé¡¹ç›®ã€‚\n2. åŠŸèƒ½æ„æ€ ä»æºä»£ç åº“çš„.repo/manifests/default.xmlæ–‡ä»¶ä¸­è¯»å–å‡ºæ¥æ¯ä¸€ä¸ªé¡¹ç›®çš„nameåŠpathï¼Œç„¶åä½¿ç”¨githubçš„apiæ‰¹é‡åˆ›å»ºé¡¹ç›®ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯qcomæä¾›çš„ä»£ç æ˜¯ä½¿ç”¨æ–œæ åˆ†å¼€çš„ï¼Œè€Œæˆ‘ä»¬åœ¨githubä¸­æ˜¯ä½¿ç”¨äº†ç±»ä¼¼lineageosä¸­çš„åšæ³•å°†æ–œæ ç”¨ä¸‹åˆ’çº¿ä»£æ›¿ã€‚\n3. fuck code createTask(){ #system/tools/mkbootimg : LineageOS/android_system_tools_mkbootimg line=$1 prj_name=${line##*:} prj_name=${prj_name//\\//_} prj_name=`eval echo $prj_name` while true; do index=$[RANDOM%${#PRI_TOKEN[@]}] token=${PRI_TOKEN[$index]} resp=`curl -s -X POST -H \u0026#34;Accept: application/vnd.github+json\u0026#34; -H \u0026#34;Authorization: Bearer $token\u0026#34; -d \u0026#34;{\\\u0026#34;name\\\u0026#34;:\\\u0026#34;$prj_name\\\u0026#34;,\\\u0026#34;private\\\u0026#34;:\\\u0026#34;true\\\u0026#34;,\\\u0026#34;has_issues\\\u0026#34;:\\\u0026#34;fasle\\\u0026#34;,\\\u0026#34;has_projects\\\u0026#34;:\\\u0026#34;true\\\u0026#34;,\\\u0026#34;has_wiki\\\u0026#34;:\\\u0026#34;false\\\u0026#34;,\\\u0026#34;auto_init\\\u0026#34;:\\\u0026#34;false\\\u0026#34;}\u0026#34; https://api.github.com/orgs/$org/repos` if [[ $resp == *\u0026#34;secondary rate limit\u0026#34;* ]]; then echo -e \u0026#34;$token : $prj_name -----\u0026gt; rate limit\u0026#34; sleep 15s else msg=`echo $resp | jq \u0026#39;.url\u0026#39;` if [ \u0026#34;$msg\u0026#34; == \u0026#34;null\u0026#34; ];then msg=`echo $resp | jq \u0026#39;.errors[0].message\u0026#39;` fi echo -e \u0026#34;$token : $prj_name -----\u0026gt; $msg\u0026#34; sleep 5s break fi done } syncCreate(){ IFS=$\u0026#39;\\n\u0026#39; for line in $repolist;do createTask $line #break; done } 4. å¤šçº¿ç¨‹pushä»£ç  pushTask(){ #system/tools/mkbootimg : LineageOS/android_system_tools_mkbootimg line=$1 prj_path=${line%%:*} prj_path=`eval echo $prj_path` prj_name=${line##*:} #prj_name=${prj_name#*LineageOS/} prj_name=${prj_name//\\//_} prj_name=`eval echo $prj_name` cd $prj_path REMOTE=git@github.com:$org/${prj_name} cmd=\u0026#34;git push --porcelain --all $REMOTE\u0026#34; if [ -n \u0026#34;$branch\u0026#34; ]; then cmd=\u0026#34;git push --porcelain $REMOTE HEAD:refs/heads/$branch\u0026#34; fi pushres=`eval $cmd` if [[ $pushres == *\u0026#34;Done\u0026#34;* ]]; then echo \u0026#34;$cmd ---\u0026gt; succed\u0026#34; else echo \u0026#34;$cmd ---\u0026gt; failed $pushres\u0026#34; echo \u0026#34;$prj_path:$prj_name\u0026#34; \u0026gt;\u0026gt;$logpath fi cd - \u0026gt;/dev/null } asyncPush(){ fifofile=\u0026#34;/tmp/$$.fifo\u0026#34; mkfifo $fifofile exec 6\u0026lt;\u0026gt;$fifofile rm -rf $fifofile thread_num=10 job_num=${#repolist[@]} for ((i=0;i\u0026lt;${thread_num};i++)); do echo \u0026gt;\u0026amp;6 done rm -rf $logpath IFS=$\u0026#39;\\n\u0026#39; for line in $repolist;do { read -u6 pushTask $line echo \u0026gt;\u0026amp;6 }\u0026amp; done wait exec 6\u0026lt;\u0026amp;- exec 6\u0026gt;\u0026amp;- echo \u0026#34;sync end\u0026#34; } 5. è¾“å‡ºæ–°çš„manifest.xmlæ–‡ä»¶ toXml(){ rm -rf manifest_new.xml while read line do pline=$line if [[ $line == \\\u0026lt;project* ]];then #echo $line prj_name=${line#*name=\\\u0026#34;} prj_name=${prj_name%%\\\u0026#34;*} prj_path=${line#*path=\\\u0026#34;} prj_path=${prj_path%%\\\u0026#34;*} end=${line##*\\\u0026#34;} pline=\u0026#34;\u0026lt;project name=\\\u0026#34;$prj_name\\\u0026#34; path=\\\u0026#34;$prj_path\\\u0026#34; $end\u0026#34; fi echo $pline \u0026gt;\u0026gt; manifest_new.xml done \u0026lt; .repo/manifests/default.xml } 6. åè®° githubåˆ›å»ºé¡¹ç›®å¦‚æœè¿‡å¿«ä¼šè§¦å‘secondary rate limit å› æ­¤ï¼Œå¯ä»¥å¤šæ‹¿å‡ ä¸ªtokenéšæœºä½¿ç”¨åˆ›å»ºé¡¹ç›®ï¼Œè€Œgitlabå´æ²¡æœ‰è¿™ç§é™åˆ¶ã€‚\n","permalink":"https://blog.trustyapp.com/posts/blog/github_newproject/","summary":"Githubæ‰¹é‡åˆ›å»ºé¡¹ç›® 1. åŠŸèƒ½èƒŒæ™¯ AOSPçš„ä»£ç æ˜¯ä½¿ç”¨repoç®¡ç†çš„ï¼Œéœ€è¦ä¸Šä¼ è‡³githubä¸Šçš„æ—¶å€™éœ€è¦æ‰¹é‡åˆ›å»ºé¡¹ç›®ã€‚ 2. åŠŸèƒ½æ„æ€ ä»æºä»£ç åº“çš„.repo/manifests/default.xmlæ–‡ä»¶ä¸­è¯»å–å‡ºæ¥æ¯ä¸€ä¸ªé¡¹ç›®çš„nameåŠpathï¼Œç„¶åä½¿ç”¨githubçš„apiæ‰¹é‡åˆ›å»ºé¡¹ç›®","title":"Githubæ‰¹é‡åˆ›å»ºé¡¹ç›®"},{"content":"é«˜é€šä»£ç ä¸‹è½½(2022å¹´ç‰ˆ) é«˜é€šä»£ç åœ°å€å·²ç»æ›´æ¢\nhttps://wiki.codelinaro.org/en/clo/la/release-backup\nrepo init -u git://codeaurora.org/platform/manifest.git -b release -m LA.UM.5.5.r1-06100-8x96.0.xml ","permalink":"https://blog.trustyapp.com/posts/blog/qcom_source/","summary":"é«˜é€šä»£ç ä¸‹è½½(2022å¹´ç‰ˆ) é«˜é€šä»£ç åœ°å€å·²ç»æ›´æ¢ https://wiki.codelinaro.org/en/clo/la/release-backup repo init -u git://codeaurora.org/platform/manifest.git -b release -m LA.UM.5.5.r1-06100-8x96.0.xml","title":"é«˜é€šä»£ç ä¸‹è½½(2022å¹´ç‰ˆ)"},{"content":"","permalink":"https://blog.trustyapp.com/posts/blog/blog/","summary":"","title":"Blog"},{"content":"","permalink":"https://blog.trustyapp.com/posts/archives/archives/","summary":"","title":"Archives"},{"content":"","permalink":"https://blog.trustyapp.com/posts/script/script/","summary":"","title":"Script"},{"content":"","permalink":"https://blog.trustyapp.com/posts/server/server/","summary":"","title":"Server"},{"content":" Sulv\u0026#39;s Blog ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ ğŸ‘‰å‹é“¾æ ¼å¼ åç§°ï¼š Sulv\u0026rsquo;s Blog ç½‘å€ï¼š https://www.sulvblog.cn å›¾æ ‡ï¼š https://www.sulvblog.cn/img/Q.gif æè¿°ï¼š ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ ğŸ‘‰å‹é“¾ç”³è¯·è¦æ±‚ ç§‰æ‰¿äº’æ¢å‹é“¾åŸåˆ™ã€æ–‡ç« å®šæœŸæ›´æ–°ã€ä¸èƒ½æœ‰å¤ªå¤šå¹¿å‘Šã€ä¸ªäººæè¿°å­—æ•°æ§åˆ¶åœ¨15å­—å†…\nğŸ‘‰Hugoåšå®¢äº¤æµç¾¤ 787018782\n","permalink":"https://blog.trustyapp.com/links/","summary":"Sulv\u0026#39;s Blog ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ ğŸ‘‰å‹é“¾æ ¼å¼ åç§°ï¼š Sulv\u0026rsquo;s Blog ç½‘å€ï¼š https://www.sulvblog.cn å›¾æ ‡ï¼š https://www.sulvblog.cn/img/Q.gif æè¿°ï¼š ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ ğŸ‘‰å‹é“¾ç”³è¯·è¦æ±‚ ç§‰æ‰¿äº’æ¢å‹é“¾åŸåˆ™ã€æ–‡ç« å®šæœŸæ›´æ–°ã€ä¸èƒ½æœ‰å¤ªå¤šå¹¿å‘Šã€ä¸ªäººæè¿°å­—æ•°æ§åˆ¶åœ¨15å­—å†… ğŸ‘‰Hugoåšå®¢äº¤æµç¾¤ 787018782","title":"ğŸ¤å‹é“¾"},{"content":"å…³äºæˆ‘\nå§“å: æ‰¬å¸†èµ·èˆª èŒä¸š: ç¨‹åºå‘˜ è¿åŠ¨: è·‘æ­¥ã€ä¹’ä¹“çƒã€çˆ¬å±± ","permalink":"https://blog.trustyapp.com/about/","summary":"å…³äºæˆ‘ å§“å: æ‰¬å¸†èµ·èˆª èŒä¸š: ç¨‹åºå‘˜ è¿åŠ¨: è·‘æ­¥ã€ä¹’ä¹“çƒã€çˆ¬å±±","title":"ğŸ™‹ğŸ»â€â™‚ï¸å…³äº"}]